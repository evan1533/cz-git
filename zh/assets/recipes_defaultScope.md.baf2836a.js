import{_ as s,o as n,c as a,a as l}from"./app.4a453642.js";const C=JSON.parse('{"title":"defaultScope","description":"","frontmatter":{},"headers":[],"relativePath":"recipes/defaultScope.md","lastUpdated":1657594700000}'),p={name:"recipes/defaultScope.md"},o=l(`<h1 id="defaultscope" tabindex="-1">defaultScope <a class="header-anchor" href="#defaultscope" aria-hidden="true">#</a></h1><ul><li>\u81EA\u52A8\u83B7\u53D6 \u201C\u4EE3\u7801\u4FEE\u6539\u8303\u56F4\u201D\u3002 \u9002\u7528\u4E8E\u5B58\u5728\u5F88\u591A\u8303\u56F4\u9009\u9879\uFF08\u4F8B\u5982\u7EC4\u4EF6\u5E93\u3001monorepo\uFF09\u7684\u60C5\u51B5\u3002 <ul><li>\u4F8B\u5982 <a href="https://github.com/Tencent/tdesign-vue-next" target="_blank" rel="noopener noreferrer">TDesign-Vue-Next</a>\uFF0C\u8FD9\u662F\u4E00\u4E2A Vue3 \u7EC4\u4EF6\u5E93\uFF0C\u5728 <code>src</code> \u4E2D\u5B58\u50A8\u4E86\u8D85\u8FC7 60 \u4E2A\u7EC4\u4EF6</li><li>\u4F46\u4E0E\u6B64\u540C\u65F6\u5176\u9879\u76EE\u8DEF\u5F84\u7ED3\u6784\u5341\u5206\u6E05\u6670</li><li>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7<code>git status</code>\u83B7\u53D6\u5DF2\u4FEE\u6539\u6587\u4EF6\u7F13\u5B58\u533A\u7684\u8DEF\u5F84</li><li>\u8FDB\u884C\u5B57\u7B26\u4E32\u5339\u914D\u622A\u53D6\uFF0C\u83B7\u5F97\u5339\u914D\u6210\u529F\u7684 <code>scope</code></li><li>\u518D\u4F20\u9012\u7ED9 defaultScope\uFF0C\u5728\u9009\u62E9\u5217\u8868\u4E2D\u8FDB\u884C\u7F6E\u9876</li></ul></li></ul><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// .commitlint.config.js</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">execSync</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">require</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;child_process&#39;</span><span style="color:#858585;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// precomputed scope</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">scopeComplete</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">execSync</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;git status --porcelain || true&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">toString</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">trim</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">split</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">.</span><span style="color:#A1B567;">find</span><span style="color:#858585;">((</span><span style="color:#B8A965;">r</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">~</span><span style="color:#B8A965;">r</span><span style="color:#858585;">.</span><span style="color:#A1B567;">indexOf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;M  src&#39;</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">?.</span><span style="color:#A1B567;">replace</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">/</span><span style="color:#858585;">(</span><span style="color:#E6CC77;">\\/</span><span style="color:#858585;">)</span><span style="color:#C98A7D;">/</span><span style="color:#4D9375;">g</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;%%&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">?.</span><span style="color:#A1B567;">match</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">/</span><span style="color:#C4704F;">src%%</span><span style="color:#858585;">((</span><span style="color:#D4976C;">\\w</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">-</span><span style="color:#858585;">)</span><span style="color:#CB7676;">*</span><span style="color:#858585;">)</span><span style="color:#C98A7D;">/</span><span style="color:#858585;">)?.[</span><span style="color:#6394BF;">1</span><span style="color:#858585;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">/** </span><span style="color:#858585;">@</span><span style="color:#CB7676;">type</span><span style="color:#758575;"> </span><span style="color:#858585;">{</span><span style="color:#A1B567;">import(&#39;cz-git&#39;).UserConfig</span><span style="color:#858585;">}</span><span style="color:#758575;"> */</span></span>
<span class="line"><span style="color:#E0A569;">module</span><span style="color:#858585;">.</span><span style="color:#E0A569;">exports</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#E0A569;">prompt</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">defaultScope</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">scopeComplete</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">customScopesAlign</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">!</span><span style="color:#B8A965;">scopeComplete</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;top-bottom&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;bottom&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">};</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// .commitlint.config.js</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">execSync</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">require</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;child_process&#39;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// precomputed scope</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">scopeComplete</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">execSync</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;git status --porcelain || true&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">toString</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">trim</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">split</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">find</span><span style="color:#8E8F8B;">((</span><span style="color:#8C862B;">r</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">~</span><span style="color:#8C862B;">r</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">indexOf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;M  src&#39;</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">?.</span><span style="color:#6C7834;">replace</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">/</span><span style="color:#8E8F8B;">(</span><span style="color:#BDA437;">\\/</span><span style="color:#8E8F8B;">)</span><span style="color:#B56959;">/</span><span style="color:#1C6B48;">g</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;%%&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">?.</span><span style="color:#6C7834;">match</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">/</span><span style="color:#AB5E3F;">src%%</span><span style="color:#8E8F8B;">((</span><span style="color:#A65E2B;">\\w</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">-</span><span style="color:#8E8F8B;">)</span><span style="color:#AB5959;">*</span><span style="color:#8E8F8B;">)</span><span style="color:#B56959;">/</span><span style="color:#8E8F8B;">)?.[</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">/** </span><span style="color:#8E8F8B;">@</span><span style="color:#AB5959;">type</span><span style="color:#A0ADA0;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#6C7834;">import(&#39;cz-git&#39;).UserConfig</span><span style="color:#8E8F8B;">}</span><span style="color:#A0ADA0;"> */</span></span>
<span class="line"><span style="color:#B58451;">module</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">exports</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">prompt</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">defaultScope</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">scopeComplete</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">customScopesAlign</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#8C862B;">scopeComplete</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;top-bottom&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;bottom&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span></code></pre></div><p><img src="https://user-images.githubusercontent.com/40693636/172989830-c3e436ad-adab-42f5-973f-b97f33748939.gif" alt="demo-gif"></p><br><br><br><blockquote><p>\u5229\u7528\u53EF\u9AD8\u5EA6\u53EF\u5B9A\u5236\u7684 <code>cz-git</code> \u8BA9 commit \u66F4\u65B9\u4FBF\uFF0C\u66F4\u5951\u5408\u4E60\u60EF\uFF0C\u6B22\u8FCE\u5206\u4EAB\u3002</p></blockquote>`,8),e=[o];function c(t,r,y,i,B,A){return n(),a("div",null,e)}var D=s(p,[["render",c]]);export{C as __pageData,D as default};
